{% extends "../main_app/menu.html" %}
{% load static %}
{% block title %}View Profile{% endblock title %}

{% block menu_content %}

<div class="card mb-3" style="border-radius: .5rem;">
    <div class="row g-0">
        <div class="col-md-4 gradient-custom text-center text-white">
            {% if user.profile_pic %}
            
            <img src="{{user.profile_pic.url}}"
                alt="Avatar" class="img-fluid my-5 rounded-circle" style="width: 80px;" />
                {% else %}
            <img src="{% static "main_app/img/ditto.png" %}"
                alt="Ditto" class="img-fluid my-5 rounded-circle" style="width: 80px;" title="Ditto" />
            {% endif %}
            <h5>{{user.name}}</h5>
            <p>{{user_type}}</p>
            <button class="btn btn-primary w-50" type="button" data-bs-toggle="collapse" data-bs-target="#collapsetarget" aria-expanded="false" aria-controls="collapsetarget">
                Edit details
            </button>
              
        </div>
        <div class="col-md-8">
            <div class="card-body p-4">
                <h6>Information</h6>
                <hr class="mt-0 mb-4">
                <div class="row pt-1">
                    <div class="col-6 mb-3">
                        <h6>Email</h6>
                        <p class="text-muted">{{user.email}}</p>
                    </div>
                    <div class="col-6 mb-3">
                        <h6>Parent's Contact</h6>
                        <p class="text-muted">{{user.student.parents_num}}</p>
                    </div>
                    <div class="col-6 mb-3">
                        <h6>Date Of Birth</h6>
                        <p class="text-muted">{{user.student.dob}}</p>
                    </div>
                    <div class="col-6 mb-3">
                        <h6>Gender</h6>
                        <p class="text-muted">{{user.gender}}</p>
                    </div>
                    <div class="col-6 mb-3">
                        <h6>Course</h6>
                        <p class="text-muted">{{user.student.course.name}}</p>
                    </div>
                    <div class="col-6 mb-3">
                        <h6>Address</h6>
                        <p class="text-muted">{{user.student.address}}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--COLLAPSE BUTTON -->
<div class="collapse " id="collapsetarget">
    <form action="" method="post">
        {% csrf_token %}
        {% for field in form %}
            <div class="mb-3">
                {{ field.label_tag }}
                {{ field }}
            </div>
        {% endfor %}

        <button type="submit" class="btn btn-success">Save</button>
    </form>
  </div>
{% endblock menu_content %}